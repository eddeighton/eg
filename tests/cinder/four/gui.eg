


action Gui
{
    cinder::app::AppBase* pTheApp = cinder::app::AppBase::get();
    
    bool bContinue = true;
    while( bContinue )
    {
        {
            ImGui::Begin( "GUI", NULL, 
                ImGuiWindowFlags_NoTitleBar | 
                ImGuiWindowFlags_NoResize | 
                ImGuiWindowFlags_NoMove | 
                ImGuiWindowFlags_NoScrollbar | 
                ImGuiWindowFlags_NoScrollWithMouse |
                ImGuiWindowFlags_NoCollapse
                );
            
            const cinder::ivec2 wndSize = pTheApp->getWindowSize();
            ImGui::SetWindowPos( ImVec2( 0,0 ) );
            ImGui::SetWindowSize( ImVec2( wndSize.x, 30 ) );
            
            //quit
            ImGui::SameLine();
            if( ImGui::Button( "Quit" ) )
            {
                pTheApp->quit();
                bContinue = false;
            }
        
            //fullscreen
            ImGui::SameLine();
            if( ImGui::Button( "Fullscreen" ) )
            {
                if( pTheApp->isFullScreen() )
                {
                    pTheApp->setFullScreen( false );
                }
                else
                {
                    pTheApp->setFullScreen( true );
                }
            }
            
            //rack
            ImGui::SameLine();
            if( ImGui::Button( "Rack" ) )
            {
                Rack theRack = ::eg::one< Rack >( root.Get().Rack.Range() );
                if( theRack )
                {
                    theRack.Stop();
                }
                else
                {
                    Rack.Start();
                }
            }
            
            //run script
            ImGui::SameLine();
            if( ImGui::Button( "Run Script" ) )
            {
                Python.Start();
            }
            
            //run script
            ImGui::SameLine();
            if( ImGui::Button( "Automata Script" ) )
            {
                AutomataScript.Start();
            }
            
            //fps
            ImGui::SameLine();
            {
                ImGui::TextColored( ImVec4(1,1,1,1), "FPS: %4.0f", pTheApp->getAverageFps() );
            }
            
            ImGui::End();
        }
        eg::sleep();
    }
}

