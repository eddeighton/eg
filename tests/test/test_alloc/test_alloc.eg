

action A[ 4 ]( int iValue )
{
    dim int i;
	TEST( i() == 0 ); //default initialisation
    i( iValue );
}

//A a = A( 123 ); //sync call to A - A has stopped once it returns.
//a.i() //reads i on reference
TEST( A( 1 ).i() == 1 );
TEST( A( 2 ).i() == 2 );
TEST( A( 3 ).i() == 3 );
TEST( A( 4 ).i() == 4 );

//attempting to allocate onces more within cycle should fail

TEST( !A( 5 ) );